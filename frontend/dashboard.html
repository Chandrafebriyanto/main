<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    />
    <link rel="stylesheet" href="style.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poetsen+One&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header id="app-header">
      <div class="logo-container">
        <img src="logo Sidamen.png" alt="SiDamen Logo" />
        <span class="app-title">SiDamen</span>
      </div>
      <span class="page-title">Halaman Dashboard WebGIS</span>
    </header>

    <div id="content-area">
      <nav id="sidebar" class_collapsed>
        <div class="sidebar-user-info">
          <div class="user-icon"><i class="fas fa-user"></i></div>
          <div class="user-details">
            <p class="user-name">Admin SiDamen</p>
            <p class="user-email">sidamen.acc@gmail.com</p>
          </div>
        </div>

        <ul class="nav flex-column sidebar-nav flex-grow-1">
          <li class="nav-item">
            <a class="nav-link active" href="dashboard.html"
              ><i class="fas fa-tachometer-alt"></i> Dashboard</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              ><i class="fas fa-handshake"></i> Sambung Niaga</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              ><i class="fas fa-sliders-h"></i> Input Parameter</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              ><i class="fas fa-seedling"></i> Pasca Panen</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              ><i class="fas fa-cloud-sun"></i> Cuaca</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              ><i class="fas fa-calendar-alt"></i> Kalender</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              ><i class="fas fa-save"></i> Disimpan</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              ><i class="fas fa-history"></i> Terbaru</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              ><i class="fas fa-language"></i> Bahasa</a
            >
          </li>
        </ul>

        <button id="logout-button" class="btn w-100 mt-auto">LOGOUT</button>
      </nav>

      <main id="main-map-wrapper">
        <div>
          <div class="search">
            <button id="hamburger-menu" title="Toggle Menu">
              <i class="fas fa-bars"></i>
            </button>

            <div id="search-bar-container" class="input-group">
              <span class="input-group-text"
                ><i class="fas fa-search"></i
              ></span>
              <input
                type="text"
                class="form-control"
                placeholder="Masukan Posisi Anda"
              />
            </div>
          </div>
        </div>

        <div id="map"></div>

        <!-- tittle: bagian detail lokasi -->
        <!-- <div id="detail-lokasi" class="card">
                <div class="card-body p-3">
                    <div class="d-flex justify-content-between align-items-center mb-2 border-bottom pb-2">
                        <h5 class="card-title mb-0"><i class="fas fa-map-marker-alt text-danger"></i> Detail Lokasi</h5>
                        <button type="button" class="btn-close btn-sm" aria-label="Close" onclick="document.getElementById('detail-lokasi').style.display='none'"></button>
                    </div>
                    <p class="mb-1"><strong>Daerah :</strong> Jombang</p>
                    <p class="mb-1"><strong>Suhu :</strong> 26°C - 31°C</p>
                    <p class="mb-1"><strong>Kelembapan :</strong> 79% - 93%</p>
                    <p class="mb-1"><strong>Cuaca :</strong> Berawan</p>
                    <h6 class="mt-2 mb-1" style="font-size: 0.9rem; font-weight: bold;">Rekomendasi Tanaman:</h6>
                    <ul class="mb-0">
                        <li>Padi</li>
                        <li>Jagung</li>
                        <li>Kedelai</li>
                    </ul>
                </div>
            </div> -->

        <div id="map-controls">
            <img class="img" src="compas.png" alt="compas">
        </div>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const sidebar = document.getElementById("sidebar");
        const hamburgerMenu = document.getElementById("hamburger-menu");
        const mainMapWrapper = document.getElementById("main-map-wrapper");

        sidebar.classList.add("collapsed");

        hamburgerMenu.addEventListener("click", function () {
          sidebar.classList.toggle("collapsed");
          mainMapWrapper.classList.toggle("sidebar-active");
          setTimeout(function () {
            map.invalidateSize();
          }, 0);
        });

        var map = L.map("map").setView([-7.5568, 112.2384], 13);

        L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
          attribution:
            '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        }).addTo(map);

        L.marker([-7.546, 112.235])
          .addTo(map)
          .bindPopup(
            "Jl. Soekarno Urip / Jl. Urip Sumoharjo, Jombang<br>Kabupaten Jombang, Jawa Timur"
          )
          .openPopup();

        window.addEventListener("resize", function () {
          setTimeout(function () {
            map.invalidateSize();
          }, 100);
        });

        if (window.innerWidth < 992) {
          if (!sidebar.classList.contains("collapsed")) {
            sidebar.classList.add("collapsed");
          }
        }
      });
    </script>
  </body>
</html>
